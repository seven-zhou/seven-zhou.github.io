<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Geeker 小周]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://seven-zhou.github.io/"/>
  <updated>2015-10-13T10:07:46.000Z</updated>
  <id>http://seven-zhou.github.io/</id>
  
  <author>
    <name><![CDATA[seven-zhou]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[解决peewee的连接池长连接超时失效后，没有重连机制]]></title>
    <link href="http://seven-zhou.github.io/2015/10/13/%E8%A7%A3%E5%86%B3peewee%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%B1%A0%E9%95%BF%E8%BF%9E%E6%8E%A5%E8%B6%85%E6%97%B6%E5%A4%B1%E6%95%88%E5%90%8E%E6%B2%A1%E6%9C%89%E9%87%8D%E8%BF%9E%E6%9C%BA%E5%88%B6/"/>
    <id>http://seven-zhou.github.io/2015/10/13/解决peewee的连接池长连接超时失效后没有重连机制/</id>
    <published>2015-10-13T09:39:09.000Z</published>
    <updated>2015-10-13T10:07:46.000Z</updated>
    <content type="html"><![CDATA[<h2 id="遇到的问题">遇到的问题</h2><p>最近，负责一个后台运营系统的开发和维护，由于是新上线的业务，又是内部系统，所以使用的频率比较低。而今天突然就告警了，还是很意外的，告警内容如下：</p>
<p><code>OperationalError: (2006, &#39;MySQL server has gone away&#39;)</code></p>
<p>联系DBA，询问一下是否是数据库的问题，答复是数据库没有问题(当时还不知道是因为长连接失效导致，真是丢人)，果断重启服务，故障解除，这是一个解决很多问题的好方法。</p>
<h2 id="分析问题">分析问题</h2><p>google了一下，原因是peewee使用MySQLdb库没有提供检查连接的情况和自动重连的机制。</p>
<h2 id="解决问题">解决问题</h2><p>发现很多人遇到了这样的问题，并在github向peewee的作者提问，随之发现最新版本的peewee提供了<code>RetryOperationalError</code>，可以解决正常情况的失效自动重连。但是需要注意目前通过pip还不能安装到最新的这个版本，需要手动github下载安装。</p>
<p>不过，它还是不能解决<code>PooledMySQLDatabase</code>连接池失效的情况，根据<code>RetryOperationalError</code>的思路，决定自己Hack一下，就有如下的代码：</p>
<script src="https://gist.github.com/zhouxb/ced1f9ee3baa69c5c31d.js"></script>

<p>本人在本地测试，可以实现失效后重连机制，同时可以使用现有版本的peewee</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="遇到的问题">遇到的问题</h2><p>最近，负责一个后台运营系统的开发和维护，由于是新上线的业务，又是内部系统，所以使用的频率比较低。而今天突然就告警了，还是很意外的，告警内容如下：</p>
<p><code>OperationalError: (2006, &]]>
    </summary>
    
      <category term="数据库，peewee" scheme="http://seven-zhou.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8Cpeewee/"/>
    
      <category term="技术" scheme="http://seven-zhou.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[操作系统篇--打造Geek的开发环境]]></title>
    <link href="http://seven-zhou.github.io/2015/09/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AF%87-%E6%89%93%E9%80%A0Geek%E7%9A%84%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    <id>http://seven-zhou.github.io/2015/09/25/操作系统篇-打造Geek的开发环境/</id>
    <published>2015-09-25T01:46:56.000Z</published>
    <updated>2015-09-28T03:35:16.000Z</updated>
    <content type="html"><![CDATA[<h2 id="经历">经历</h2><p>开篇的部分，先随便聊一聊，自己曾使用过的电脑操作系统。</p>
<p>很多90后，00后可能都不知道什么是DOS系统，这也是我接触第一电脑操作系统，更准确的说应该叫做MS-DOS，主要是学校的机房和电脑房。</p>
<p>之后就是windows系统的电脑操作系统了，WIN98是非常经典的操作系统，当时光是看屏保就让人感到非常惊艳，那时还不知道linux系统为何物。</p>
<p>上了大学之后，才第一次接触到Linux系统，记得当时使用应该是Debian系统，第一感觉就是特别难用，还是windows系统好，使用很方便，之后才知道Linux系统的强大。</p>
<p>简单回顾了一下，自己接触过的各个电脑操作系统，当时觉得电脑实在是太酷啦，可能就是在那时决定了自己将来要从和电脑相关的工作了。</p>
<h2 id="正题">正题</h2><p>刚开始工作的时候，是windows平台上使用java语言开发eclipse的插件，主要使用的IDE理所当然就是eclipse，当时感觉eclipse太复杂啦，需要配置各种各样的插件，启动时间超长，虽然吐槽很多，但不得不说eclipse确实是开发Java的神器，同时也影响了很多后来的IDE。貌似有点跑题，今天主要说的是，操作系统的事，以后我会重点说一下关于IDE的。</p>
<p>对于绝大多数刚入行的小排程序员来说，windows平台是最熟悉，也是最容易上手的开发平台，而且目前PC使用量最大的操作系统，所以有很多配套的开发工具可以使用，例如：wireshark，fiddler，xshell等等，其实已经可以满足开发的需求啦。但如果你想进一步提高自己的效率（个人的看法），更Geek一些，那么你就不得不告别windows平台，拥抱Linux平台（或者Mac，本人目前还没有使用过去）。</p>
<p>随着互联网的不断发展，B/S结构的服务越来越流行，现在移动互联网更是异常火爆，以APP+Server的方式为广大用户提供服务，变成了一种常态。所以会很明显发现，在服务端需要开发的工作量越来越多，越来越多，而运行在服务端的应用基本上绝大多数都是基于Linux内核的操作系统，例如：centOS，RedHat，Ubuntu等。</p>
<p>使用Linux系统的好处还有很多，很多主流的服务端的软件都是运行在Linux系统上，例如：Nginx，MySQL，MongoDB等，非常非常的多，这样就可以很直观的了解这些软件的使用方式，特点，工作原理等，也可以在自己的本地环境进行各种测试。</p>
<p>Linux系统拥有大量的系统命令，让你可以更加了解计算机的工作原理，对CPU，内存，磁盘和网络都可以进行查看，修改和管理，让你有种真正掌控自己电脑的感觉。</p>
<p>说了这么一大堆，主要就是想表达选择Linux作为自己的开发系统，是一种趋势，同时也确确实实能够带来很多便利和提高效率。</p>
<h2 id="结尾">结尾</h2><p>很多事情的第一步很重要，只要你勇敢的走出第一步，你会发现其实并没有想象中那么难。所以，那些没有使用过Linux系统的人，不妨下载一个Ubuntu的镜像，自己动手安装一个属于自己的Linux系统，或许你将再也离不开它啦。后续，我会介绍一下如何安装一个Ubuntu的系统。</p>
]]></content>
    <summary type="html">
    <![CDATA[操作系统是一个非常基础的平台，确定了以后开发方式，工具的选择，所以非常关键]]>
    
    </summary>
    
      <category term="linux" scheme="http://seven-zhou.github.io/tags/linux/"/>
    
      <category term="开发环境" scheme="http://seven-zhou.github.io/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
      <category term="技术" scheme="http://seven-zhou.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[一个小白Geeker的独白]]></title>
    <link href="http://seven-zhou.github.io/2015/09/22/%E4%B8%80%E4%B8%AA%E6%8A%80%E6%9C%AF%E5%B0%8F%E7%99%BD%E7%9A%84%E7%8B%AC%E7%99%BD/"/>
    <id>http://seven-zhou.github.io/2015/09/22/一个技术小白的独白/</id>
    <published>2015-09-22T01:47:33.000Z</published>
    <updated>2015-09-22T06:35:42.000Z</updated>
    <content type="html"><![CDATA[<h2 id="开篇">开篇</h2><p>先来一个简单的自我介绍，本人是一个pythoner，linuxer，vimer 目前主要是服务器端开发，也曾有过短暂的创业经历，对所有的技术方向都很有兴趣，可能受美国个人英雄主义腐蚀很严重的原因，希望靠一个之力搞定一切，成为一个Full Stack developer(全栈工程师)。后续的文章，就能感受得到了。</p>
<h2 id="目标">目标</h2><p>首先是私心，希望通过写这个博客，不断提高自己的文笔和技术，扩大自己的影响力，满足小小的虚荣心。</p>
<p>其次，通过记录一个一个自己的轨迹，在技术上的学习和思考，尽力去帮到一些人。</p>
<p>最后，想通过这个平台结识一些朋友，交流和分享一些对技术和生活的感受。</p>
<h2 id="计划">计划</h2><p>本人是很理科男的思维方式，做事情总想条理清晰，可以归纳总结，所以感觉上很条条框框。这是我想不断调整的地方，可以分享一下人文情怀的东西。目前，还是按照我一贯的方式去做吧。</p>
<p>我想写一些自己从技术小白成长为一个有一定能力的Geeker的点点滴滴，希望能够帮到一些人。我会梳理出一个路线图和我自己所经历的一些里程碑的事件。</p>
<p>这里先简单罗列一些：</p>
<ul>
<li>打造一个Geeker的开发环境（相对主观了一些）</li>
<li>积攒自己的技术清单和知识库</li>
<li>关于产品的思考</li>
</ul>
<p>这些主题要写的东西都很多，所以我争取每周都可以写一篇有质量的东西。</p>
<h2 id="结尾">结尾</h2><p>此刻是一个起步，前路还很漫长，勿忘初心，努力成为一个受尊敬的匠人。</p>
]]></content>
    <summary type="html">
    <![CDATA[记录从一个技术小白，做到一个还算不错的程序员的点点滴滴]]>
    
    </summary>
    
      <category term="随想" scheme="http://seven-zhou.github.io/tags/%E9%9A%8F%E6%83%B3/"/>
    
      <category term="技术" scheme="http://seven-zhou.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
</feed>
